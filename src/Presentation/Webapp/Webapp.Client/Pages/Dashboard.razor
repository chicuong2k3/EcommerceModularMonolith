@page "/dashboard"
<PageTitle>Dashboard</PageTitle>

<div class="flex min-h-screen bg-gray-50">
    <!-- Sidebar -->
    <aside class="hidden w-64 border-r bg-white md:block">
        <div class="flex h-16 items-center border-b px-6">
            <span class="text-primary text-lg font-bold">chalo</span>
        </div>
        <nav class="flex flex-col gap-2 p-4">
            <Button Text="Dashboard" Icon="dashboard" Class="justify-start" />
            <Button Text="Account Management" Icon="person" Class="justify-start" Variant="ghost" />
            <Button Text="Booking Management" Icon="calendar_month" Class="justify-start" Variant="ghost" />
            <Button Text="Provider Management" Icon="groups" Class="justify-start" Variant="ghost" />
            <Button Text="Service Management" Icon="build" Class="justify-start" Variant="ghost" />
            <Button Text="Customer Management" Icon="people" Class="justify-start" Variant="ghost" />
            <Button Text="Employee Management" Icon="badge" Class="justify-start" Variant="ghost" />
            <Button Text="Transaction Management" Icon="receipt" Class="justify-start" Variant="ghost" />
            <Button Text="Settings" Icon="settings" Class="justify-start" Variant="ghost" />
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="flex flex-1 flex-col">
        <!-- Header -->
        <header class="flex h-16 items-center justify-between border-b bg-white px-6">
            <div class="flex items-center gap-2">
                <Button Icon="menu" Variant="ghost" Class="md:hidden" />
                <h1 class="text-xl font-semibold">Dashboard</h1>
            </div>
            <div class="flex items-center gap-4">
                <Input Placeholder="Search" Class="w-64" Value="@("")" />
                <Button Icon="notifications" Variant="ghost" />
                <Button Icon="account_circle" Variant="ghost" />
            </div>
        </header>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 gap-4 p-6 md:grid-cols-4">
            <Card>
                <CardContent>
                    <span class="text-sm text-gray-500">Earnings</span>
                    <span class="text-2xl font-bold">$21,568.43</span>
                </CardContent>
            </Card>
            <Card>
                <CardContent>
                    <span class="text-sm text-gray-500">Commission Earnings</span>
                    <span class="text-2xl font-bold">$15,565.32</span>
                </CardContent>
            </Card>
            <Card>
                <CardContent>
                    <span class="text-sm text-gray-500">Total Fee Earning</span>
                    <span class="text-2xl font-bold">$200.00</span>
                </CardContent>
            </Card>
            <Card>
                <CardContent>
                    <div class="flex flex-col items-start gap-2">
                    </div>
                    <span class="text-sm text-gray-500">Provider</span>
                    <span class="text-2xl font-bold">1500</span>
                </CardContent>
            </Card>
        </div>

        <!-- Chart + Stats -->
        <div class="grid grid-cols-1 gap-4 px-6 md:grid-cols-2">
            <Card class="col-span-1 md:col-span-2">
                <CardHeader>
                    <div class="flex flex-row items-center justify-between"></div>
                    <span class="font-semibold">Earning Statistics</span>
                    <span class="text-xs text-gray-400">Year 2025</span>
                </CardHeader>
                <CardContent>
                    <!-- Chart Placeholder -->
                    <div class="flex h-48 items-center justify-center rounded-md bg-gray-100">
                        <span class="text-gray-400">[Line Chart Here]</span>
                    </div>
                    <div class="mt-6 flex gap-12">
                        <div>
                            <div class="text-xs text-gray-400">Total Earnings</div>
                            <div class="text-2xl font-bold">24,828</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-400">Admin Commission</div>
                            <div class="text-2xl font-bold">25,010</div>
                        </div>
                    </div>
                </CardContent>
            </Card>
        </div>

        <!-- Providers and Bookings -->
        <div class="grid grid-cols-1 gap-4 px-6 py-6 md:grid-cols-2">
            <!-- Top Providers -->
            <Card>
                <CardHeader>
                    <span class="font-semibold">Top Providers</span>
                    <span class="text-xs text-gray-400">Invite your team members to collaborate.</span>
                </CardHeader>
                <CardContent>
                    <div class="flex flex-col gap-4">
                        @foreach (var provider in TopProviders)
                        {
                            <div class="flex items-center gap-4">
                                <img src="@provider.AvatarUrl" class="h-10 w-10 rounded-full" />
                                <div class="flex-1">
                                    <div class="font-semibold">@provider.Name</div>
                                    <div class="text-xs text-gray-400">@provider.Email</div>
                                </div>
                                <div class="text-xs text-gray-500">@provider.Engagements Engagements</div>
                            </div>
                        }
                    </div>
                </CardContent>
            </Card>

            <!-- Recent Bookings -->
            <Card>
                <CardHeader>
                    <span class="font-semibold">Recent Bookings</span>
                    <span class="text-xs text-gray-400">Manage your Payments.</span>
                </CardHeader>
                <CardContent>
                    <Input Placeholder="Filter emails..." Class="mb-2" Value="@("")" />
                    <Table>
                        <TableHeader>
                            <tr>
                                <th>Status</th>
                                <th>Booking No.</th>
                                <th class="text-right">Amount</th>
                            </tr>
                        </TableHeader>
                        <TableBody>
                            @foreach (var booking in RecentBookings)
                            {
                                <tr>
                                    <td>
                                        <Badge Text="@booking.Status" Type="@(booking.Status == "Success" ? BadgeType.Success : booking.Status == "Pending" ? BadgeType.Warning : BadgeType.Default)" />
                                    </td>
                                    <td>@booking.BookingNo</td>
                                    <td class="text-right font-semibold">PHP @booking.Amount</td>
                                </tr>
                            }
                        </TableBody>
                    </Table>
                </CardContent>
            </Card>
        </div>
    </div>
</div>

@code {
    // Dummy data for illustration
    private List<ProviderModel> TopProviders = new()
    {
        new ProviderModel("Emma Cruz", "me@example.com", "https://randomuser.me/api/portraits/women/1.jpg", 12),
        new ProviderModel("Jackson Magbago", "p@example.com", "https://randomuser.me/api/portraits/men/2.jpg", 12),
        new ProviderModel("Isabella Nguyen", "i@example.com", "https://randomuser.me/api/portraits/women/3.jpg", 12),
        new ProviderModel("Sofia Manalo", "j@example.com", "https://randomuser.me/api/portraits/women/4.jpg", 12)
    };

    private List<BookingModel> RecentBookings = new()
    {
        new BookingModel("Success", "BN2025-1234567", 316),
        new BookingModel("Pending", "BN2025-1234567", 242),
        new BookingModel("Success", "BN2025-1234567", 316)
    };

    public class ProviderModel
    {
        public string Name { get; }
        public string Email { get; }
        public string AvatarUrl { get; }
        public int Engagements { get; }
        public ProviderModel(string name, string email, string avatarUrl, int engagements)
        {
            Name = name;
            Email = email;
            AvatarUrl = avatarUrl;
            Engagements = engagements;
        }
    }

    public class BookingModel
    {
        public string Status { get; }
        public string BookingNo { get; }
        public int Amount { get; }
        public BookingModel(string status, string bookingNo, int amount)
        {
            Status = status;
            BookingNo = bookingNo;
            Amount = amount;
        }
    }
}
